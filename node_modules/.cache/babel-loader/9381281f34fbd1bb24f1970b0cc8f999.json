{"ast":null,"code":"import _regeneratorRuntime from \"/home/priyanka/task/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/priyanka/task/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/priyanka/task/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from '../apis/axios';\nimport history from \"../history\";\nimport { toastr } from 'react-redux-toastr';\nimport { POST_LIST } from './types'; //it defines our type of application\n\nvar header = {\n  \"Content-Type\": \"application/json\" //function will show the success or warning\n\n};\n\nvar toastrSuccess = function toastrSuccess(title, msg) {\n  return toastr.success(title, msg);\n};\n\nvar toastrWarning = function toastrWarning(title, msg) {\n  return toastr.error(title, msg);\n}; //login action creator\n\n\nexport var signIn = function signIn(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post('jwt-auth/v1/token', _objectSpread({}, formValues), {\n                header: header\n              });\n\n            case 3:\n              response = _context.sent;\n              console.log(response.data);\n              toastrSuccess(\"SignIn Successful\", \"\".concat(formValues.username));\n              localStorage.setItem(\"validToken\", response.data.token);\n              localStorage.setItem(\"UserId\", response.data.user_id); //console.log(localStorage.getItem(\"validToken\"))\n\n              history.push('/');\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n              toastrWarning(\" Error due to form submission\", \"\".concat(formValues.username));\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 11]]);\n    }))\n  );\n}; //redister user action creator\n\nexport var signUp = function signUp(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.post('wp/v2/users/register', _objectSpread({}, formValues));\n\n            case 3:\n              response = _context2.sent;\n              console.log(response.data);\n              toastrSuccess(\"\".concat(response.data.message), \"\".concat(formValues.username));\n              history.push('/');\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              toastrWarning(\"Error due to form submission\", \"\".concat(formValues.username));\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }))\n  );\n}; //log out action creator\n\nexport var logOutUserAction = function logOutUserAction() {\n  localStorage.removeItem(\"UserId\");\n  localStorage.removeItem(\"validToken\");\n  toastrSuccessFunction(\"LogOut Status\", \"You are logout Successfully\");\n}; //update user profile action creator\n\nexport var updateUser = function updateUser(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.post('/wp/v2/users/register', _objectSpread({}, formValues));\n\n            case 2:\n              response = _context3.sent;\n              console.log(response.data.message);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))\n  );\n};\nexport var postList = function postList() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.get('/wp/v2/posts');\n\n              case 2:\n                response = _context4.sent;\n                console.log(response.data, 'actions');\n                dispatch({\n                  type: POST_LIST,\n                  payload: response.data\n                });\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var postCreate = function postCreate(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return axios.post('/wp/v2/posts', _objectSpread({}, formValues));\n\n            case 2:\n              response = _context5.sent;\n              console.log(response.data);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }))\n  );\n};","map":{"version":3,"sources":["/home/priyanka/task/myapp/src/actions/index.js"],"names":["axios","history","toastr","POST_LIST","header","toastrSuccess","title","msg","success","toastrWarning","error","signIn","formValues","post","response","console","log","data","username","localStorage","setItem","token","user_id","push","signUp","message","logOutUserAction","removeItem","toastrSuccessFunction","updateUser","postList","dispatch","get","type","payload","postCreate"],"mappings":";;;AAAA,OAAQA,KAAR,MAAmB,eAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,SAAQC,MAAR,QAAqB,oBAArB;AACA,SAAQC,SAAR,QAAwB,SAAxB,C,CAEA;;AACA,IAAMC,MAAM,GAAG;AACb,kBAAiB,kBADJ,CAIf;;AAJe,CAAf;;AAKA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAOC,GAAP;AAAA,SAAeL,MAAM,CAACM,OAAP,CAAeF,KAAf,EAAqBC,GAArB,CAAf;AAAA,CAAtB;;AACA,IAAME,aAAa,GAAG,SAAhBA,aAAgB,CAACH,KAAD,EAAOC,GAAP;AAAA,SAAeL,MAAM,CAACQ,KAAP,CAAaJ,KAAb,EAAmBC,GAAnB,CAAf;AAAA,CAAtB,C,CAEA;;;AACA,OAAO,IAAMI,MAAM,GAAG,SAATA,MAAS,CAAAC,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAENZ,KAAK,CAACa,IAAN,CAAW,mBAAX,oBAAmCD,UAAnC,GAA+C;AAACR,gBAAAA,MAAM,EAACA;AAAR,eAA/C,CAFM;;AAAA;AAExBU,cAAAA,QAFwB;AAG9BC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AAEAZ,cAAAA,aAAa,gCAAwBO,UAAU,CAACM,QAAnC,EAAb;AACAC,cAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCN,QAAQ,CAACG,IAAT,CAAcI,KAAjD;AACAF,cAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BN,QAAQ,CAACG,IAAT,CAAcK,OAA7C,EAP8B,CAS9B;;AACArB,cAAAA,OAAO,CAACsB,IAAR,CAAa,GAAb;AAV8B;AAAA;;AAAA;AAAA;AAAA;AAa9Bd,cAAAA,aAAa,4CAAoCG,UAAU,CAACM,QAA/C,EAAb;;AAb8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;AAAA;AAAA,CAAzB,C,CAiBL;;AACA,OAAO,IAAMM,MAAM,GAAG,SAATA,MAAS,CAAAZ,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAERZ,KAAK,CAACa,IAAN,CAAW,sBAAX,oBAAsCD,UAAtC,EAFQ;;AAAA;AAE1BE,cAAAA,QAF0B;AAGhCC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAZ,cAAAA,aAAa,WAAIS,QAAQ,CAACG,IAAT,CAAcQ,OAAlB,aAA+Bb,UAAU,CAACM,QAA1C,EAAb;AACAjB,cAAAA,OAAO,CAACsB,IAAR,CAAa,GAAb;AALgC;AAAA;;AAAA;AAAA;AAAA;AAQhCd,cAAAA,aAAa,2CAAmCG,UAAU,CAACM,QAA9C,EAAb;;AARgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;AAAA;AAAA,CAAzB,C,CAYP;;AACA,OAAO,IAAMQ,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AACpCP,EAAAA,YAAY,CAACQ,UAAb,CAAwB,QAAxB;AACAR,EAAAA,YAAY,CAACQ,UAAb,CAAwB,YAAxB;AAEAC,EAAAA,qBAAqB,gDAArB;AACD,CALM,C,CAQP;;AACA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAjB,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEdZ,KAAK,CAACa,IAAN,CAAW,uBAAX,oBAAuCD,UAAvC,EAFc;;AAAA;AAEhCE,cAAAA,QAFgC;AAGtCC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcQ,OAA1B;;AAHsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;AAAA;AAAA,CAA7B;AAOP,OAAO,IAAMK,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAM,kBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEN/B,KAAK,CAACgC,GAAN,CAAU,cAAV,CAFM;;AAAA;AAEtBlB,gBAAAA,QAFsB;AAI5BC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EAA2B,SAA3B;AAEAc,gBAAAA,QAAQ,CAAE;AAACE,kBAAAA,IAAI,EAAE9B,SAAP;AAAkB+B,kBAAAA,OAAO,EAAEpB,QAAQ,CAACG;AAApC,iBAAF,CAAR;;AAN4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;AAWP,OAAO,IAAMkB,UAAU,GAAG,SAAbA,UAAa,CAAAvB,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEdZ,KAAK,CAACa,IAAN,CAAW,cAAX,oBAA8BD,UAA9B,EAFc;;AAAA;AAEhCE,cAAAA,QAFgC;AAGtCC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;;AAHsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;AAAA;AAAA,CAA7B","sourcesContent":["import  axios from '../apis/axios'\nimport history from \"../history\"\nimport {toastr} from 'react-redux-toastr'\nimport {POST_LIST} from './types'\n\n//it defines our type of application\nconst header = {\n  \"Content-Type\" : \"application/json\"\n}\n\n//function will show the success or warning\nconst toastrSuccess = (title,msg) => toastr.success(title,msg)\nconst toastrWarning = (title,msg) => toastr.error(title,msg) \n\n//login action creator\nexport const signIn = formValues => async () => {\n    try{\n      const response  = await axios.post('jwt-auth/v1/token',{...formValues},{header:header});\n      console.log(response.data)\n      \n      toastrSuccess(`SignIn Successful`,`${formValues.username}`)\n      localStorage.setItem(\"validToken\", response.data.token);\n      localStorage.setItem(\"UserId\", response.data.user_id);\n      \n      //console.log(localStorage.getItem(\"validToken\"))\n      history.push('/'); \n    }\n    catch(error){\n      toastrWarning(` Error due to form submission`,`${formValues.username}`);\n    }     \n  };\n\n  //redister user action creator\n  export const signUp = formValues => async () => {\n    try{\n      const response  = await axios.post('wp/v2/users/register',{...formValues});\n      console.log(response.data)\n      toastrSuccess(`${response.data.message}`,`${formValues.username}`)\n      history.push('/'); \n    }\n    catch(error){\n      toastrWarning(`Error due to form submission`,`${formValues.username}`);\n    }   \n  };\n\n  //log out action creator\n  export const logOutUserAction = () => {\n    localStorage.removeItem(\"UserId\")\n    localStorage.removeItem(\"validToken\");\n\n    toastrSuccessFunction(`LogOut Status`,`You are logout Successfully`);\n  };\n\n\n  //update user profile action creator\n  export const updateUser = formValues => async () => {\n    //console.log(formValues);\n    const response  = await axios.post('/wp/v2/users/register',{...formValues});\n    console.log(response.data.message);\n  };\n\n\n  export const postList = () => async (dispatch) => {\n    \n    const response =await axios.get('/wp/v2/posts');\n    \n    console.log(response.data ,'actions');\n    \n    dispatch ({type: POST_LIST ,payload :response.data});\n  \n\n  };\n\n  export const postCreate = formValues => async () => {\n    //console.log(formValues);\n    const response  = await axios.post('/wp/v2/posts',{...formValues});\n    console.log(response.data); \n  };"]},"metadata":{},"sourceType":"module"}