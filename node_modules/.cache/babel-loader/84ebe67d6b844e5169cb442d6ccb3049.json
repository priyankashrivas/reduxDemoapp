{"ast":null,"code":"import _regeneratorRuntime from \"/home/priyanka/task/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/priyanka/task/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/priyanka/task/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from '../apis/axios';\nimport history from \"../history\";\nimport { toastr } from 'react-redux-toastr';\nimport { POST_LIST } from '.types';\nvar header = {\n  \"Content-Type\": \"application/json\"\n};\n\nvar toastrSuccessFunction = function toastrSuccessFunction(title, msg) {\n  return toastr.success(title, msg);\n};\n\nvar toastrWarningFunction = function toastrWarningFunction(title, msg) {\n  return toastr.error(title, msg);\n};\n\nexport var signIn = function signIn(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post('jwt-auth/v1/token', _objectSpread({}, formValues), {\n                header: header\n              });\n\n            case 3:\n              response = _context.sent;\n              console.log(response.data);\n              toastrSuccessFunction(\"SignIn Successful\", \"\".concat(formValues.username));\n              localStorage.setItem(\"authToken\", response.data.token); //console.log(localStorage.getItem(\"authToken\"))\n\n              history.push('/');\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              toastrWarningFunction(\"Form Submission Error\", \"\".concat(formValues.username));\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }))\n  );\n};\nexport var signUp = function signUp(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.post('wp/v2/users/register', _objectSpread({}, formValues));\n\n            case 3:\n              response = _context2.sent;\n              console.log(response.data);\n              toastrSuccessFunction(\"\".concat(response.data.message), \"\".concat(formValues.username));\n              history.push('/');\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              toastrWarningFunction(\"Form Submission Error\", \"\".concat(formValues.username));\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }))\n  );\n};\nexport var updateUser = function updateUser(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.post('/wp/v2/users/register', _objectSpread({}, formValues));\n\n            case 2:\n              response = _context3.sent;\n              console.log(response.data.message);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))\n  );\n};\nexport var postList = function postList(renderPostList) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.get('/wp/v2/posts');\n\n              case 2:\n                response = _context4.sent;\n                console.log(response.data);\n                dispatch({\n                  type: POST_LIST,\n                  payload: response.data\n                });\n                renderPostList(response);\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var postCreate = function postCreate(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return axios.post('/wp/v2/users/register', _objectSpread({}, formValues));\n\n            case 2:\n              response = _context5.sent;\n              console.log(response.data.message);\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }))\n  );\n};","map":{"version":3,"sources":["/home/priyanka/task/myapp/src/actions/index.js"],"names":["axios","history","toastr","POST_LIST","header","toastrSuccessFunction","title","msg","success","toastrWarningFunction","error","signIn","formValues","post","response","console","log","data","username","localStorage","setItem","token","push","signUp","message","updateUser","postList","renderPostList","dispatch","get","type","payload","postCreate"],"mappings":"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","sourcesContent":["import  axios from '../apis/axios'\nimport history from \"../history\"\nimport {toastr} from 'react-redux-toastr'\nimport {POST_LIST} from '.types'\n\nconst header = {\n  \"Content-Type\" : \"application/json\"\n}\n\nconst toastrSuccessFunction = (title,msg) => toastr.success(title,msg)\nconst toastrWarningFunction = (title,msg) => toastr.error(title,msg) \n\nexport const signIn = formValues => async () => {\n    try{\n      const response  = await axios.post('jwt-auth/v1/token',{...formValues},{header:header});\n      console.log(response.data)\n      \n      toastrSuccessFunction(`SignIn Successful`,`${formValues.username}`)\n      localStorage.setItem(\"authToken\", response.data.token);\n      \n      //console.log(localStorage.getItem(\"authToken\"))\n      history.push('/'); \n    }\n    catch(error){\n      toastrWarningFunction(`Form Submission Error`,`${formValues.username}`);\n    }     \n  };\n\n  export const signUp = formValues => async () => {\n    try{\n      const response  = await axios.post('wp/v2/users/register',{...formValues});\n      console.log(response.data)\n      toastrSuccessFunction(`${response.data.message}`,`${formValues.username}`)\n      history.push('/'); \n    }\n    catch(error){\n      toastrWarningFunction(`Form Submission Error`,`${formValues.username}`);\n    }   \n  };\n\n  export const updateUser = formValues => async () => {\n    //console.log(formValues);\n    const response  = await axios.post('/wp/v2/users/register',{...formValues});\n    console.log(response.data.message);\n  };\n\n  export const postList = (renderPostList) => async (dispatch) => {\n    const response =await axios.get('/wp/v2/posts');\n    console.log(response.data);\n    dispatch ({type: POST_LIST ,payload :response.data});\n    renderPostList(response);\n\n  };\n\n  export const postCreate = formValues => async () => {\n    //console.log(formValues);\n    const response  = await axios.post('/wp/v2/users/register',{...formValues});\n    console.log(response.data.message); \n  };"]},"metadata":{},"sourceType":"module"}