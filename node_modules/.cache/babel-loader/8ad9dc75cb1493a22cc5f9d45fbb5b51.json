{"ast":null,"code":"import _regeneratorRuntime from \"/home/priyanka/task/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/priyanka/task/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/priyanka/task/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from '../apis/axios';\nimport history from \"../history\";\nimport { toastr } from 'react-redux-toastr';\nimport { POST_LIST } from './types'; //it defines our type of application\n\nvar header = {\n  \"Content-Type\": \"application/json\" //function will show the success or warning\n\n};\n\nvar toastrSuccessFuction = function toastrSuccessFuction(title, msg) {\n  return toastr.success(title, msg);\n};\n\nvar toastrWarningFuction = function toastrWarningFuction(title, msg) {\n  return toastr.error(title, msg);\n}; //login action creator\n\n\nexport var signIn = function signIn(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post('jwt-auth/v1/token', _objectSpread({}, formValues), {\n                header: header\n              });\n\n            case 3:\n              response = _context.sent;\n              console.log(response.data);\n              toastrSuccessFuction(\"SignIn Successful\", \"\".concat(formValues.username));\n              localStorage.setItem(\"authToken\", response.data.token); //localStorage.setItem(\"UserId\", response.data.user_id);\n              //console.log(localStorage.getItem(\"validToken\"))\n\n              history.push('/');\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              toastrWarningFuction(\" Error due to form submission\", \"\".concat(formValues.username));\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }))\n  );\n}; //redister user action creator\n\nexport var signUp = function signUp(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.post('wp/v2/users/register', _objectSpread({}, formValues));\n\n            case 3:\n              response = _context2.sent;\n              console.log(response.data);\n              toastrSuccessFuction(\"\".concat(response.data.message), \"\".concat(formValues.username));\n              history.push('/');\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              toastrWarningFuction(\"Error due to form submission\", \"\".concat(formValues.username));\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }))\n  );\n}; //log out action creator\n\nexport var logOutUserAction = function logOutUserAction() {\n  localStorage.removeItem(\"UserId\");\n  localStorage.removeItem(\"authToken\");\n  toastrSuccessFuctiob(\"LogOut Status\", \"You are Successfully logout your profile\");\n}; //update user profile action creator\n\nexport var updateUser = function updateUser(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.post('/wp/v2/users/register', _objectSpread({}, formValues));\n\n            case 2:\n              response = _context3.sent;\n              console.log(response.data.message);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))\n  );\n}; //show all post action creator\n\nexport var postList = function postList() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var _header, response;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _header = {\n                  \"Content-Type\": \"application/json\",\n                  \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"authToken\"))\n                };\n                console.log(_header);\n                _context4.next = 5;\n                return axios.get('/wp/v2/posts');\n\n              case 5:\n                response = _context4.sent;\n                console.log(response.data, 'actions');\n                dispatch({\n                  type: POST_LIST,\n                  payload: response.data\n                });\n                _context4.next = 13;\n                break;\n\n              case 10:\n                _context4.prev = 10;\n                _context4.t0 = _context4[\"catch\"](0);\n                toastrWarningFuction(\"something went wrong \", \"\");\n\n              case 13:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 10]]);\n      }));\n\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var postCreate = function postCreate(formValues) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      var _header2, response;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _header2 = {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"validToken\"))\n              };\n              console.log(_header2);\n              _context5.next = 5;\n              return axios.post('/wp/v2/posts', _objectSpread({}, formValues));\n\n            case 5:\n              response = _context5.sent;\n              console.log(response.data);\n              _context5.next = 12;\n              break;\n\n            case 9:\n              _context5.prev = 9;\n              _context5.t0 = _context5[\"catch\"](0);\n              toastrWarning(\"Create Post Error\", \"\".concat(formValues.title));\n\n            case 12:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 9]]);\n    }))\n  );\n};","map":{"version":3,"sources":["/home/priyanka/task/myapp/src/actions/index.js"],"names":["axios","history","toastr","POST_LIST","header","toastrSuccessFuction","title","msg","success","toastrWarningFuction","error","signIn","formValues","post","response","console","log","data","username","localStorage","setItem","token","push","signUp","message","logOutUserAction","removeItem","toastrSuccessFuctiob","updateUser","postList","dispatch","getItem","get","type","payload","postCreate","toastrWarning"],"mappings":"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","sourcesContent":["import  axios from '../apis/axios'\nimport history from \"../history\"\nimport {toastr} from 'react-redux-toastr'\nimport {POST_LIST} from './types'\n\n//it defines our type of application\nconst header = {\n  \"Content-Type\" : \"application/json\"\n}\n\n//function will show the success or warning\nconst toastrSuccessFuction = (title,msg) => toastr.success(title,msg)\nconst toastrWarningFuction = (title,msg) => toastr.error(title,msg) \n\n//login action creator\nexport const signIn = formValues => async () => {\n    try{\n      const response  = await axios.post('jwt-auth/v1/token',{...formValues},{header:header});\n      console.log(response.data)\n      \n      toastrSuccessFuction(`SignIn Successful`,`${formValues.username}`)\n      localStorage.setItem(\"authToken\", response.data.token);\n      //localStorage.setItem(\"UserId\", response.data.user_id);\n      \n      //console.log(localStorage.getItem(\"validToken\"))\n      history.push('/'); \n    }\n    catch(error){\n      toastrWarningFuction(` Error due to form submission`,`${formValues.username}`);\n    }     \n  };\n\n  //redister user action creator\n  export const signUp = formValues => async () => {\n    try{\n      const response  = await axios.post('wp/v2/users/register',{...formValues});\n      console.log(response.data)\n      toastrSuccessFuction(`${response.data.message}`,`${formValues.username}`)\n      history.push('/'); \n    }\n    catch(error){\n      toastrWarningFuction(`Error due to form submission`,`${formValues.username}`);\n    }   \n  };\n\n  //log out action creator\n  export const logOutUserAction = () => {\n    localStorage.removeItem(\"UserId\")\n    localStorage.removeItem(\"authToken\");\n\n    toastrSuccessFuctiob(`LogOut Status`,`You are Successfully logout your profile`);\n  };\n\n\n  //update user profile action creator\n  export const updateUser = formValues => async () => {\n    //console.log(formValues);\n    const response  = await axios.post('/wp/v2/users/register',{...formValues});\n    console.log(response.data.message);\n  };\n\n\n  //show all post action creator\n\n  export const postList = () => async (dispatch) => {\n    try{\n      let header = {\n        \"Content-Type\" : \"application/json\",\n        \"Authorization\":`Bearer ${localStorage.getItem(\"authToken\")}`\n      }\n        console.log(header);      \n        const response =await axios.get('/wp/v2/posts');\n        console.log(response.data ,'actions');\n        dispatch ({type: POST_LIST ,payload :response.data});\n    }catch(error){\n      toastrWarningFuction(`something went wrong `,``);\n    }\n    \n  };\n\n  export const postCreate = formValues => async () => {\n    try{\n      let header = {\n        \"Content-Type\" : \"application/json\",\n        \"Authorization\":`Bearer ${localStorage.getItem(\"validToken\")}`\n      }\n      console.log(header)\n      const response  = await axios.post('/wp/v2/posts',{...formValues});\n      console.log(response.data);\n    }catch(error){\n      toastrWarning(`Create Post Error`,`${formValues.title}`);\n    } \n  };"]},"metadata":{},"sourceType":"module"}